<!DOCTYPE HTML>
<html>
<head>
	<title>wave - a water simulator</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #000000;
		}
	</style>
	<script src="assets/pixi.min.js"></script>
</head>
<body>
	<script>
	// create an new instance of a pixi stage
	var stage = new PIXI.Stage(0x66FF99);

	// create a renderer instance.
	var renderer = PIXI.autoDetectRenderer(1000, 1000);

	// add the renderer view element to the DOM
	document.body.appendChild(renderer.view);

	requestAnimationFrame( animate );
	var graphics = new PIXI.Graphics();

	var WATER_HEIGHT = 100;
	var WATER_WIDTH = 100;
	var WATER_VOXEL_SIZE = 8;

	function drawWater(graphics) {
		graphics.beginFill(0x0000FF);
		for (var y = 0; y < WATER_HEIGHT; y++) {
			for (var x = 0; x < WATER_WIDTH; x++) {
				graphics.drawRect(x * WATER_VOXEL_SIZE, y * WATER_VOXEL_SIZE, WATER_VOXEL_SIZE, WATER_VOXEL_SIZE);
			}
		}
	}

	function animate() {
	    requestAnimationFrame( animate );

			graphics.clear();
			drawWater(graphics);
			stage.addChild(graphics);

	    renderer.render(stage);
	}

	</script>

	</body>
</html>
